<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡πÅ‡∏≠‡∏õ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞ Quiz ‡∏û‡∏£‡∏£‡∏ì‡πÑ‡∏°‡πâ‡∏õ‡πà‡∏≤‡∏ä‡∏≤‡∏¢‡πÄ‡∏•‡∏ô</title>
  <script src="script.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>üåø ‡∏û‡∏£‡∏£‡∏ì‡πÑ‡∏°‡πâ‡∏õ‡πà‡∏≤‡∏ä‡∏≤‡∏¢‡πÄ‡∏•‡∏ô</h1>
      <p>‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏û‡∏£‡∏£‡∏ì‡πÑ‡∏°‡πâ‡∏õ‡πà‡∏≤‡∏ä‡∏≤‡∏¢‡πÄ‡∏•‡∏ô</p>
    </div>

    <div class="mode-selector">
      <button class="mode-btn active" onclick="showMode('learning')">üìö ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</button>
      <button class="mode-btn" onclick="showMode('quiz')">üéØ ‡πÇ‡∏´‡∏°‡∏î Quiz</button>
    </div>

    <!-- Learning Mode -->
    <div id="learning-mode">
      <div class="filters">
        <h3>üîç ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</h3>
        <div class="filter-row">
          <div class="filter-group">
            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå</label>
            <input type="text" id="search-name" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå...">
          </div>
          <div class="filter-group">
            <label>‡∏ß‡∏á‡∏®‡πå</label>
            <select id="filter-plant">
              <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
            </select>
          </div>
          <div class="filter-group">
            <label>‡∏ß‡∏¥‡∏™‡∏±‡∏¢</label>
            <select id="filter-habit">
              <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
            </select>
          </div>
          <div class="filter-group">
            <label>‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ö</label>
            <select id="filter-leaf-type">
              <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
            </select>
          </div>
          <div class="filter-group">
            <label>‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö</label>
            <select id="filter-leaf-arrangement">
              <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
            </select>
          </div>
          <div class="filter-group">
            <label>‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏°‡πâ</label>
            <select id="filter-plant-type">
              <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
            </select>
          </div>
          <div class="filter-group">
            <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
            <select id="filter-status">
              <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
            </select>
          </div>
        </div>
        <div class="filter-actions">
          <button class="clear-filters" onclick="clearFilters()">‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</button>
          <div class="results-count" id="results-count">‡πÅ‡∏™‡∏î‡∏á 0 ‡∏à‡∏≤‡∏Å 0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
        </div>
      </div>

      <div class="plants-grid" id="plants-grid"></div>
    </div>

    <!-- Quiz Mode -->
    <div id="quiz-mode" class="hidden">
      <div class="quiz-container">
        <div id="quiz-start" class="quiz-start">
          <h2>üéØ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏£‡∏£‡∏ì‡πÑ‡∏°‡πâ‡∏õ‡πà‡∏≤‡∏ä‡∏≤‡∏¢‡πÄ‡∏•‡∏ô</h2>
          <p>‡∏°‡∏µ 15 ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° ‡πÄ‡∏ß‡∏•‡∏≤‡∏Ç‡πâ‡∏≠‡∏•‡∏∞ 20 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</p>
          <br>
          <button class="start-quiz-btn" onclick="startQuiz()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥ Quiz</button>
        </div>

        <div id="quiz-playing" class="hidden">
          <div class="quiz-header">
            <div>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà <span id="current-question">1</span>/15</div>
            <div class="progress-bar">
              <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="timer" id="timer">20</div>
          </div>

          <div class="question-container">
            <img id="question-image" class="question-image" onclick="enlargeQuizImage()">
            <div class="question-text" id="question-text"></div>
          </div>

          <div class="options-grid" id="options-grid"></div>
        </div>

        <div id="quiz-results" class="quiz-results hidden">
          <h2>üéâ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Quiz</h2>
          <div class="score" id="final-score">0/15</div>
          <div class="results-details" id="results-details"></div>
          <button class="restart-btn" onclick="restartQuiz()">‡∏ó‡∏≥ Quiz ‡πÉ‡∏´‡∏°‡πà</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Plant Detail Modal -->
  <div id="plant-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <div class="modal-header">
        <h2 id="modal-title"></h2>
        <div class="scientific" id="modal-scientific"></div>
      </div>
      <div class="modal-body">
        <div class="plant-details" id="modal-details"></div>
        <div class="image-gallery" id="modal-gallery"></div>
      </div>
    </div>
  </div>

  <!-- Image Enlargement Modal -->
  <div id="image-modal" class="image-modal" onclick="closeImageModal()">
    <div class="image-modal-content">
      <img id="enlarged-image" class="enlarged-image">
    </div>
  </div>

  <script>
    // Sample Data - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏£‡∏£‡∏ì‡πÑ‡∏°‡πâ‡∏õ‡πà‡∏≤‡∏ä‡∏≤‡∏¢‡πÄ‡∏•‡∏ô
  

    // Global Variables
    let currentMode = 'learning';
    let filteredPlants = [...plantsData];
    let quizQuestions = [];
    let currentQuestionIndex = 0;
    let quizAnswers = [];
    let timer = null;
    let timeLeft = 20;

    // Initialize App
    document.addEventListener('DOMContentLoaded', function () {
      initializeFilters();
      displayPlants();
      updateResultsCount();
    });

    // Mode Management
    function showMode(mode) {
      currentMode = mode;

      // Update buttons
      document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      // Show/hide sections
      document.getElementById('learning-mode').classList.toggle('hidden', mode !== 'learning');
      document.getElementById('quiz-mode').classList.toggle('hidden', mode !== 'quiz');

      if (mode === 'quiz') {
        resetQuiz();
      }
    }

    // Learning Mode Functions
    function initializeFilters() {
      const plant = [...new Set(plantsData.map(p => p.‡∏ß‡∏á‡∏®‡πå))];
      const habits = [...new Set(plantsData.map(p => p.‡∏ß‡∏¥‡∏™‡∏±‡∏¢))];
      const leafTypes = [...new Set(plantsData.map(p => p.‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ö))];
      const leafArrangements = [...new Set(plantsData.map(p => p.‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö))];
      const plantTypes = [...new Set(plantsData.map(p => p.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏°‡πâ))];
      const statuses = [...new Set(plantsData.map(p => p.‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞))];

      populateSelect('filter-habit', habits);
      populateSelect('filter-plant', plant);
      populateSelect('filter-leaf-type', leafTypes);
      populateSelect('filter-leaf-arrangement', leafArrangements);
      populateSelect('filter-plant-type', plantTypes);
      populateSelect('filter-status', statuses);

      // Add event listeners
      document.getElementById('search-name').addEventListener('input', filterPlants);
      document.getElementById('filter-plant').addEventListener('change', filterPlants);
      document.getElementById('filter-habit').addEventListener('change', filterPlants);
      document.getElementById('filter-leaf-type').addEventListener('change', filterPlants);
      document.getElementById('filter-leaf-arrangement').addEventListener('change', filterPlants);
      document.getElementById('filter-plant-type').addEventListener('change', filterPlants);
      document.getElementById('filter-status').addEventListener('change', filterPlants);
    }

    function populateSelect(id, options) {
      const select = document.getElementById(id);
      options.forEach(option => {
        const optionElement = document.createElement('option');
        optionElement.value = option;
        optionElement.textContent = option;
        select.appendChild(optionElement);
      });
    }

    function filterPlants() {
      const searchName = document.getElementById('search-name').value.toLowerCase();
      const filterplant = document.getElementById('filter-plant').value;
      const filterHabit = document.getElementById('filter-habit').value;
      const filterLeafType = document.getElementById('filter-leaf-type').value;
      const filterLeafArrangement = document.getElementById('filter-leaf-arrangement').value;
      const filterPlantType = document.getElementById('filter-plant-type').value;
      const filterStatus = document.getElementById('filter-status').value;

      filteredPlants = plantsData.filter(plant => {
        return (!searchName || plant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå.toLowerCase().includes(searchName) ||
          plant.‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå.toLowerCase().includes(searchName)) &&
          (!filterplant || plant.‡∏ß‡∏á‡∏®‡πå === filterplant) &&
          (!filterHabit || plant.‡∏ß‡∏¥‡∏™‡∏±‡∏¢ === filterHabit) &&
          (!filterLeafType || plant.‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ö === filterLeafType) &&
          (!filterLeafArrangement || plant.‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö === filterLeafArrangement) &&
          (!filterPlantType || plant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏°‡πâ === filterPlantType) &&
          (!filterStatus || plant.‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ === filterStatus);
      });

      displayPlants();
      updateResultsCount();
    }

    function clearFilters() {
      document.getElementById('search-name').value = '';
      document.getElementById('filter-plant').value = '';
      document.getElementById('filter-habit').value = '';
      document.getElementById('filter-leaf-type').value = '';
      document.getElementById('filter-leaf-arrangement').value = '';
      document.getElementById('filter-plant-type').value = '';
      document.getElementById('filter-status').value = '';

      filteredPlants = [...plantsData];
      displayPlants();
      updateResultsCount();
    }

    function displayPlants() {
      const grid = document.getElementById('plants-grid');
      grid.innerHTML = '';

      filteredPlants.forEach((plant, index) => {
        const card = document.createElement('div');
        card.className = 'plant-card';
        card.onclick = () => showPlantModal(plant);

        card.innerHTML = `
                    <h3>${plant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå}</h3>
                    <div class="scientific-name">${plant.‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå}</div>
                    <div class="plant-info">
                        <div><strong>‡∏ß‡∏á‡∏®‡πå:</strong> ${plant.‡∏ß‡∏á‡∏®‡πå}</div>
                        <div><strong>‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏°‡πâ:</strong> ${plant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏°‡πâ}</div>
                        <div><strong>‡∏ß‡∏¥‡∏™‡∏±‡∏¢:</strong> ${plant.‡∏ß‡∏¥‡∏™‡∏±‡∏¢}</div>
                        <div><strong>‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ö:</strong> ${plant.‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ö}</div>
                        <div><strong>‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÉ‡∏ö:</strong> ${plant.‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö}</div>
                        <div><strong>‡∏£‡∏≤‡∏Å:</strong> ${plant.‡∏£‡∏≤‡∏Å}</div>
                        <div><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> ${plant.‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞}</div>
                    </div>
                `;

        grid.appendChild(card);
      });
    }

    function updateResultsCount() {
      document.getElementById('results-count').textContent =
        `‡πÅ‡∏™‡∏î‡∏á ${filteredPlants.length} ‡∏à‡∏≤‡∏Å ${plantsData.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`;
    }

    // Modal Functions
    function showPlantModal(plant) {
      document.getElementById('modal-title').textContent = plant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå;
      document.getElementById('modal-scientific').textContent = plant.‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå;

      const details = document.getElementById('modal-details');
      details.innerHTML = `
                <div class="detail-item">
                    <strong>‡∏ß‡∏á‡∏®‡πå</strong>
                    <span>${plant.‡∏ß‡∏á‡∏®‡πå}</span>
                </div>
                <div class="detail-item">
                    <strong>‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏°‡πâ</strong>
                    <span>${plant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏°‡πâ}</span>
                </div>
                <div class="detail-item">
                    <strong>‡∏ß‡∏¥‡∏™‡∏±‡∏¢</strong>
                    <span>${plant.‡∏ß‡∏¥‡∏™‡∏±‡∏¢}</span>
                </div>
                <div class="detail-item">
                    <strong>‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÉ‡∏ö</strong>
                    <span>${plant.‡πÉ‡∏ö}</span>
                </div>
                <div class="detail-item">
                    <strong>‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ö</strong>
                    <span>${plant.‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ö}</span>
                </div>
                <div class="detail-item">
                    <strong>‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö</strong>
                    <span>${plant.‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö}</span>
                </div>
                <div class="detail-item">
                    <strong>‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏£‡∏≤‡∏Å</strong>
                    <span>${plant.‡∏£‡∏≤‡∏Å}</span>
                </div>
                <div class="detail-item">
                    <strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå</strong>
                    <span>${plant.‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞}</span>
                </div>
            `;

      const gallery = document.getElementById('modal-gallery');
      gallery.innerHTML = `
                <div class="gallery-item">
                    <h4>‡∏•‡∏≥‡∏ï‡πâ‡∏ô</h4>
                    <img src="${plant.‡∏†‡∏≤‡∏û‡∏•‡∏≥‡∏ï‡πâ‡∏ô}" class="gallery-image" onclick="enlargeImage('${plant.‡∏†‡∏≤‡∏û‡∏•‡∏≥‡∏ï‡πâ‡∏ô}')">
                </div>
                <div class="gallery-item">
                    <h4>‡πÉ‡∏ö</h4>
                    <img src="${plant.‡∏†‡∏≤‡∏û‡πÉ‡∏ö}" class="gallery-image" onclick="enlargeImage('${plant.‡∏†‡∏≤‡∏û‡πÉ‡∏ö}')">
                </div>
                <div class="gallery-item">
                    <h4>‡∏î‡∏≠‡∏Å</h4>
                    <img src="${plant.‡∏†‡∏≤‡∏û‡∏î‡∏≠‡∏Å}" class="gallery-image" onclick="enlargeImage('${plant.‡∏†‡∏≤‡∏û‡∏î‡∏≠‡∏Å}')">
                </div>
                <div class="gallery-item">
                    <h4>‡∏ú‡∏•</h4>
                    <img src="${plant.‡∏†‡∏≤‡∏û‡∏ú‡∏•}" class="gallery-image" onclick="enlargeImage('${plant.‡∏†‡∏≤‡∏û‡∏ú‡∏•}')">
                </div>
            `;

      document.getElementById('plant-modal').style.display = 'block';
    }

    function closeModal() {
      document.getElementById('plant-modal').style.display = 'none';
    }

    function enlargeImage(src) {
      document.getElementById('enlarged-image').src = src;
      document.getElementById('image-modal').style.display = 'block';
    }

    function enlargeQuizImage() {
      const questionImage = document.getElementById('question-image');
      enlargeImage(questionImage.src);
    }

    function closeImageModal() {
      document.getElementById('image-modal').style.display = 'none';
    }

    // Quiz Functions
    function startQuiz() {
      generateQuizQuestions();
      currentQuestionIndex = 0;
      quizAnswers = [];

      document.getElementById('quiz-start').classList.add('hidden');
      document.getElementById('quiz-playing').classList.remove('hidden');
      document.getElementById('quiz-results').classList.add('hidden');

      showQuestion();
    }

    function generateQuizQuestions() {
      const imageTypes = ['‡∏†‡∏≤‡∏û‡∏•‡∏≥‡∏ï‡πâ‡∏ô', '‡∏†‡∏≤‡∏û‡πÉ‡∏ö', '‡∏†‡∏≤‡∏û‡∏î‡∏≠‡∏Å', '‡∏†‡∏≤‡∏û‡∏ú‡∏•'];
      quizQuestions = [];

      for (let i = 0; i < 15; i++) {
        const correctPlant = plantsData[Math.floor(Math.random() * plantsData.length)];
        const imageType = imageTypes[Math.floor(Math.random() * imageTypes.length)];

        // Generate wrong answers
        const wrongAnswers = [];
        while (wrongAnswers.length < 3) {
          const randomPlant = plantsData[Math.floor(Math.random() * plantsData.length)];
          if (randomPlant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå !== correctPlant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå && !wrongAnswers.includes(randomPlant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå)) {
            wrongAnswers.push(randomPlant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå);
          }
        }

        const options = [correctPlant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå, ...wrongAnswers].sort(() => Math.random() - 0.5);

        quizQuestions.push({
          image: correctPlant[imageType],
          imageType: imageType.replace('‡∏†‡∏≤‡∏û', ''),
          correctAnswer: correctPlant.‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå,
          options: options,
          plant: correctPlant
        });
      }
    }

    function showQuestion() {
      if (currentQuestionIndex >= 15) {
        endQuiz();
        return;
      }

      const question = quizQuestions[currentQuestionIndex];

      document.getElementById('current-question').textContent = currentQuestionIndex + 1;
      document.getElementById('progress-fill').style.width = ((currentQuestionIndex + 1) / 15 * 100) + '%';
      document.getElementById('question-image').src = question.image;
      document.getElementById('question-text').textContent = `‡∏û‡∏£‡∏£‡∏ì‡πÑ‡∏°‡πâ‡πÉ‡∏ô‡∏†‡∏≤‡∏û${question.imageType}‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠?`;

      const optionsGrid = document.getElementById('options-grid');
      optionsGrid.innerHTML = '';

      question.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.className = 'option-btn';
        button.textContent = option;
        button.onclick = () => selectAnswer(option, button);
        optionsGrid.appendChild(button);
      });

      startTimer();
    }

    function startTimer() {
      timeLeft = 20;
      document.getElementById('timer').textContent = timeLeft;

      timer = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').textContent = timeLeft;

        if (timeLeft <= 0) {
          clearInterval(timer);
          selectAnswer(null, null); // Auto-submit when time's up
        }
      }, 1000);
    }

    function selectAnswer(selectedAnswer, buttonElement) {
      clearInterval(timer);

      const question = quizQuestions[currentQuestionIndex];
      const isCorrect = selectedAnswer === question.correctAnswer;

      // Disable all buttons and show correct/incorrect colors
      const allButtons = document.querySelectorAll('.option-btn');
      allButtons.forEach(btn => {
        btn.disabled = true;
        if (btn.textContent === question.correctAnswer) {
          btn.classList.add('correct');
        } else if (btn === buttonElement && !isCorrect) {
          btn.classList.add('incorrect');
        }
      });

      // Store answer
      quizAnswers.push({
        question: question,
        selectedAnswer: selectedAnswer,
        isCorrect: isCorrect
      });

      // Wait 2 seconds before next question
      setTimeout(() => {
        currentQuestionIndex++;
        showQuestion();
      }, 2000);
    }

    function endQuiz() {
      const correctCount = quizAnswers.filter(a => a.isCorrect).length;

      document.getElementById('quiz-playing').classList.add('hidden');
      document.getElementById('quiz-results').classList.remove('hidden');
      document.getElementById('final-score').textContent = `${correctCount}/15`;

      const resultsDetails = document.getElementById('results-details');
      resultsDetails.innerHTML = '<h3>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Quiz</h3>';

      quizAnswers.forEach((answer, index) => {
        const resultItem = document.createElement('div');
        resultItem.className = `result-item ${answer.isCorrect ? 'correct' : 'incorrect'}`;

        resultItem.innerHTML = `
                    <div class="result-icon">${answer.isCorrect ? '‚úÖ' : '‚ùå'}</div>
                    <div>
                        <strong>‡∏Ç‡πâ‡∏≠ ${index + 1}:</strong> ${answer.question.imageType}<br>
                        <strong>‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å:</strong> ${answer.question.correctAnswer}<br>
                        <strong>‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:</strong> ${answer.selectedAnswer || '‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ö'}
                    </div>
                `;

        resultsDetails.appendChild(resultItem);
      });
    }

    function restartQuiz() {
      resetQuiz();
      startQuiz();
    }

    function resetQuiz() {
      document.getElementById('quiz-start').classList.remove('hidden');
      document.getElementById('quiz-playing').classList.add('hidden');
      document.getElementById('quiz-results').classList.add('hidden');

      if (timer) {
        clearInterval(timer);
        timer = null;
      }
    }

    // Event Listeners
    window.onclick = function (event) {
      const modal = document.getElementById('plant-modal');
      if (event.target === modal) {
        closeModal();
      }
    }
  </script>
</body>

</html>
